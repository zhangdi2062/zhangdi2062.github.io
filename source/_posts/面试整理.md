---
title: 面试整理
date: 2024-01-31 10:20:31
tags:
- js
- css
- 面试
categories:
- 前端
---


# 面试题目

## 奇点浩瀚 2024.1.31

### 项目 

#### 介绍一下零代码平台

#### 图表对接数据怎么实现的

#### 产品版本更新技术架构有哪些变化

webpack4升级到webpack5

1. 升级vue为2.7，vuex和vue-router同步升级
2. 升级node和npm的版本

### css

#### 实现一个垂直水平居中对齐

1. flex
2. grid: `place-items: center;`
3. table: 
    ```css
    .container {
        display: table;
        width: 100%;
        height: 100%;
    }

    .item {
        display: table-cell;
        vertical-align: middle;
        text-align: center;
    }
    ```
4. absolute/fixed + translate
5. div.parent {
    font-size: 0;
    text-align: center;
    &::before {
        content: "";
        display: inline-block;
        width: 0;
        height: 100%;
        vertical-align: middle;
    }
}
div.child{
  display: inline-block;
  vertical-align: middle;
}

#### align-item 和 align-content 的区别

`align-item`是所有项目(子元素)在交叉轴上的对齐方式

`align-content`是多根轴线的对齐方式，是多行项目的对齐方式，影响的是行与行之间的间距，如果只有一行，则不生效

#### flex中如何调整item间距

`gap: 10px 20px;`

`row-gap` 和 `column-gap`，行间距和列间距，只写一个值，则两个值相同

#### 如何实现宽度0.5px的一条线

1. 阴影
    ```css
    .line {
        /* inset 向内(可选) | x 偏移量 | y 偏移量 | 阴影模糊半径 | 阴影扩散半径 | 阴影颜色 */
        box-shadow: 0 0 0 0.5px #000;
    }
    ```

2. 使用伪元素 + transform缩放

3. 线性渐变

    ```css
    .line {
        height: 1px;
        background: linear-gradient(to bottom, transparent 50%, #000 50%);
    }
    ```

4. border-bottom + transform缩放

#### 用过哪些动画

1. @keyframes + animation

2. transtion

#### 用animation实现绕x轴旋转

1. 2D, rotateX, 使用transform-origin定义基准

2. 3D, 
    ```css
    .parent-dom {
        perspective: 10000px; /* 调整这个值可以改变3D效果的深度 */
    }
    .child-dom {
        animation: rotate3d 2s infinite linear; /* 动画持续2秒，无限循环，线性速度 */
        transform-origin: bottom; /* 设置旋转基点为底部 */
        transform-style: preserve-3d; /* 确保子元素保持3D位置 */    
    }
        
    ```

### js

#### 补全下方代码

```js
function doPadStart(str, maxLength, fillString) {
    // 判断str长度，用fillString补齐maxLength
  
    return str
}
let str = '123'
doPadStart(str, 5, '0') === '00123' // true
```

补充 `fillString.repeat(maxLength - str.length)`

#### call/apply/bind的区别

#### Vue3和Vue2的区别

1. diff算法

    精细化对比，最小化更新

    vue2

    当组件创建或更新时，vue均会执行内部的update函数，该函数在内部调用render函数生成虚拟dom树，组件会指向新树，然后vue将新旧两树对比，找到差异点，最终更新到真实dom

    对比差异的过程叫diff，vue在内部通过一个patch的函数完成该过程

    在对比时，vue采用深度优先、逐层比较的方式进行比对

    在判断两个节点是否相同时，vue通过虚拟节点的key和tag来进行判断的

    具体来说，首先对根节点进行对比，如果相同则将旧节点关联的真实dom的引用挂到新节点上，然后根据需要更新属性到真实dom，然后再对比其子节点数组；如果不相同，则按照新节点的信息递归创建所有真实dom，同时挂到对应虚拟节点上，然后移除掉旧的dom

    在对比其子节点数组时，vue对每个子节点数组使用了两个指针，分别指向头尾，然后不断向中间靠拢来进行对比，这样做的目的是尽量复用真实dom，尽量少的销毁和创建真实dom，如果发现相同，则进入和根节点一样的对比流程，如果发现不同，则移动真实dom到合适的位置

    这样一直递归下去，直到整棵树完成对比。

2. api

Vue3 diff算法
1. 前序对比
2. 后序对比
3. 新节点多出来 挂载
4. 旧节点多出来 卸载
5. 特殊情况 乱序
    5.1 构建新节点的映射关系，根据key排序，然后生成key和索引的映射关系
    5.2 记录新节点在旧节点出现的位置，如果有多余节点删除，节点出现交叉，说明是移动
    5.3 移动的情况计算最长递增子序列

#### Vue3的虚拟dom

## 太极计算机 2024-02-20

一面

### js

#### js发起两次请求，都是更新数据的，后者的请求先返回，更新了数据，此时前者的请求结果返回了，如何避免覆盖掉后者的数据？

首先多次请求时可以使用AbortController取消前面的请求，

#### token过期后如何无痕刷新

- 方案1. 当发起请求服务器端返回401状态码时，表示token将要过期，那么就在响应器中拦截，并请求refreshToken，新的token请求回来后更新到cookie或storage中，继续完成发起的请求
    1. 登录成功后保存token和refresh_token(过期时间长)
    2. 在响应拦截器中对401状态码引入刷新token的api调用，通过refresh_token得到新的token
    3. 替换为新的token
    4. 将错误对象里的token替换
    5. 再次发送未完成的请求，axios.request(res.config);
    6. 如果refresh_token也过期了，清除所有token，跳转登录
    7. 如果在请求新token期间又有其他请求，那么设置一个flag变量，将其他请求放入到数组中等待被执行


- 方案2. 服务器返回过期时间，前端做比对后请求刷新token，缺点要多返回一个字段；如果本地时间被篡改，会计算错误
- 方案3. 前端轮询

#### CSS中隐藏页面元素的方式

1. display:重排和重绘，不占据页面空间，不支持动画，无法响应事件
2. visibility:重绘，占据页面空间，支持动画，无法响应事件
3. opacity:重绘，占据页面空间，支持动画，可响应事件
4. width:0,height:0:重排和重绘，不占据页面空间，支持动画
5. position:absolute,left:9999px:重绘，不占据页面空间，支持动画
6. scale：无重绘和重排，占据页面空间，支持动画

#### 数组转树，当列表中没有这个parentid时，放入到根节点当中，怎么做

```js
function arrayToTree(arr, idField = 'id', parentField = 'parentId') {
  const tree = [];
  const map = new Map();

  // 首先，将数组中的元素添加到Map中，以便于快速查找
  arr.forEach(item => {
    map.set(item[idField], item);
  });

  // 然后，遍历数组，构建树结构
  arr.forEach(item => {
    const parent = map.get(item[parentField]);
    if (parent) {
      // 如果当前元素有父级，将其作为父级的子节点
      (parent.children || (parent.children = [])).push(item);
    } else {
      // 如果当前元素没有父级，将其添加到树的根节点
      tree.push(item);
    }
  });

  return tree;
}

// 示例数组
const data = [
  { id: 1, parentId: 0, name: 'Node 1' },
  { id: 2, parentId: 1, name: 'Node 1-1' },
  { id: 3, parentId: 1, name: 'Node 1-2' },
  { id: 4, parentId: 5, name: 'Node 1-1-1' },
  // ...其他节点
];

// 转换为树形结构
const tree = arrayToTree(data);

console.log(tree);
```

#### 前端如何下载一个文件

1. a标签下载

    通过设置 `<a>` 标签的 href 属性为文件的URL，并设置 download 属性为希望保存的文件名，可以触发浏览器的下载行为。

    download有兼容性问题，并且在下载跨域资源时，可能出现无法下载的情况

2. window.location.href、window.open

    打开一个新的浏览器窗口或标签页，并加载指定的URL。但这种方法不能设置下载文件的名称。

    并且可能会直接打开文件，下载多文件时

3. ```javascript
	function downloadFile () {
		let domForm = document.createElement('form'); // 创建一个form表单元素
		domForm.setAttribute('method', 'get'); // 设置请求方式为get
		domForm.setAttribute('action', url); // 设置action属性为文件下载路径
		document.body.appendChild(domForm); // 将form元素放在body元素下
		domForm.submit(); // 提交表单实现下载
	}

    ```
4. 
```javascript
function(data,fileName){
    // data为blob格式
    var blob = new Blob([data]);
    var downloadElement = document.createElement('a');
    var href = window.URL.createObjectURL(blob);
    downloadElement.href = href;
    downloadElement.download = fileName;
    document.body.appendChild(downloadElement);
    downloadElement.click();
    document.body.removeChild(downloadElement);
    window.URL.revokeObjectURL(href);
}

```

5. 
```javascript
downloadFile:function(data,fileName){
   const reader = new FileReader()
   // 传入被读取的blob对象
   reader.readAsDataURL(data)
   // 读取完成的回调事件
   reader.onload = (e) => {
       let a = document.createElement('a')
       a.download = fileName
       a.style.display = 'none'
       // 生成的base64编码
       let url = reader.result
       a.href = url
       document.body.appendChild(a)
       a.click()
       document.body.removeChild(a)
   }
}

```

#### Vue2和Vue3的区别

##### 效率提升

1. 静态提升：元素节点和没有绑定动态内容的属性会被提升到render函数之前，Vue2是都放在render函数内，会被频繁执行

    ```html
    <h1>hello world</h1>
    <div class="header">{{title}}</div>
    ``` 
    ```js
    const hoisted1 = createVNode('h1', null, "hello world")
    const hoisted2 = { class: "header"};
    function render() {
        createVNode('div', hoisted2, title)
    }
    ```
2. 预字符串化：当编译器遇到大量连续的静态内容（20个），会直接将其编译为一个普通字符串节点，Vue会将这些节点都变成虚拟节点
3. 缓存事件处理函数：
```vue
<button @click="count++">plus</button>
```
```js
// Vue2
render(ctx){
    return createVNode("button", {
        onClick: function($event) {
            ctx.count++;
        } 
    })
}
// Vue3
render(ctx, cache){
    return createVNode("button", {
        onClick: cache[0] || cache[0] = ($event) => (ctx.count++)
    })
}
```
4. Block Tree：Vue3记录一些块节点，块节点记录了哪些是静态节点，哪些动态节点，依次对比数组中的动态节点。Vue2对比新旧虚拟树时，并不知道哪些节点是静态和动态的，只能一层一层比较，就浪费了时间在比对静态节点上
5. PatchFlag：给动态属性加上flag和注释，因此无需将所有的信息都进行比对，Vue2并不知道这个节点的哪些信息会发生变化，会对比所以信息


### 项目

#### 多个图表之间数据是如何交互的
#### 产品中主要做什么


摇树是谁完成的
proxy的应用场景
1实现单例模式
如何做路由权限管理
性能优化做了哪些
ts的泛型、元祖
es6的新特性
有哪些数据类型
symbol的用途
map和weakmap的区别，set和weakset的区别

vue依赖注入
如何下载一个文件



二面

canvas做过哪些效果
如何实现拖拽

## 即时设计 2024.03.01

### 项目

在项目中canvas用过哪些，图表拖拽怎么实现的

### js

提升首页加载时间

## 国投云网 2024.02.29

promise.race
promise.all

## 凯通科技 2024.03.06

大屏适配方案
读vue3源码有哪些学习
面向对象举例
和团队的冲突
如何培训、定目标1
如何分配任务

## 奇安信 2024.03.07

如何设计图表的
简历上的每一项
单页面和多页面的区别
事件循环
浏览器有哪些进程
vite和webpack的区别
webpack的loader和plugin
Map和对象的区别
es6的新特性用过哪些
实现每隔一秒打印一次
将扁平数组按照树的结构输出，可以深度优先也可以广度优先

## 第一车网 2024.03.26

1. 有哪些css选择器，继承属性有哪些
选择器种类：类型、类和 ID 选择器、标签属性选择器、伪类与伪元素、运算符
继承属性：字体系列，文本系列
2. 实现一个三栏自适应布局
3. 原生js实现ajax
4. 创建对象有几种方式
- 字面量
```javascript
let obj={'name':'张三'}
```
- Object构造函数
```javascript
let obj = new Object()
obj.name='张三'
```
- 工厂模式(函数封装)
```javascript
function createPerson(name){
 var o = new Object();
 o.name = name;
 return o; 
}
var person1 = createPerson('张三');
```
- 构造函数
```javascript
function Person(name){
 this.name = name;
}
var person1 = new Person('张三');
```

5. script异步有几种方式
6. 同步和异步的区别
7. `if (param) {console.log(true)} else {console.log(false)}`输出结果
8. js有哪些数据类型


## 尚方智慧能源 2024.03.29

1. 事件循环
2. 
```javascript
function Foo() {
    Foo.a = function() {console.log(1)}
    this.a = function() {console.log(2)}
}
Foo.prototype.a = function() {console.log(3)}
Foo.a = function() {console.log(4)}
Foo.a(); // 4
let obj = new Foo();
obj.a(); // 2
Foo.a(); // 1
```

3.
```javascript
var a = 10
function test() {
    a = 0;
    alert(a);
    alert(this.a);
    var a;
    alert(a);
}
new test(); // 0 undefined 0
```

4. 
```javascript
var a = {n:1};
var b = a;
a.x = a = {n:2};
console.log(a.x) // undefined
console.log(b.x) // {n:2}

```
解析：
1. {n:1} 地址为0x001，a指向0x001，b也指向0x001
2. 先进行左侧a.x，此时a指向0x001，所以0x001为{n:1, x: ?}
3. 进行右侧a = {n:2}，此时a指向0x002，0x002为{n:2}，该表达式返回{n:2}，所以0x001为{n:1, x: {n:2}}，0x001中的x指向0x002
4. 所以a.x为undefined，b.x为{n:2}

## 中信银行外包 2024.07.04

1. nextTick原理
2. vue双向绑定原理
3. 在代码审查时vue有哪些可以注意的点
4. vue组件间传值
5. 如何优化工程的打包和启动速度
6. 有10万条i18n如何优化显示
7. 组件库在设计组件时如何考虑，组件的开放性如何把握
8. 切换页面，数据？状态如何保存
9. 有哪些好用的webpack插件
html-webpack-plugin/mini-css-extract-plugin/clean-webpack-plugin/terser-webpack-plugin/hot-module-replacement-plugin/
optimize-css-assets-webpack-plugin/compression-webpack-plugin(gzip)/ignore-plugin/webpack-bundle-analyzer

10. 异步的话用vuex中的哪个，action有哪些缺陷
11. vue响应式原理
输入url过程
浏览器渲染时候广播了什么事件
Vite为什么快
Vuex流程
排序算法
虚拟dom
Webpack优化配置
new原理
修改data页面没更新怎么解决
项目如何管理


1、内联元素与块级元素
2、数组 api 介绍
3、dom操作有哪些api
数组去重有哪几种方式
5、变量提升问题
6、柯里化问题
7、数字转金额的问题
8、手写防抖和节流
9、判断变量的几种方式，有哪些不同
10、动态规划算法题

1、什么是暂时性死区？
2、块级作用域和函数作用域
3、call bind new实现原理
4、vue双向绑定原理
5、LRU算法
6、http2.0的有哪些内容
7、http 缓存
8、rem vw区别
9、移动1px问题
10、函数柯里化
11、diff算法
12、虚拟dom
13、nextTick 原理
14、事件循环
15、闭包
16、如何解决移动端click300ms延迟？
17、vue 有哪些全局组件
18、移动端如何完成拖拽功能？
19、防抖和节流的区别
20、一道逻辑题：有5L的桶和3L的桶，如何拿到4L的水

1、防抖和节流的使用场景，举例说明
2、居中的几种方案
3、事件循环
4、移动1px
5、setTimeout与rAF
6、flex:1什么意思
7、介绍下你写的库
8、发布订阅和观察者的区别
9、单例模式
10、发布订阅和观察者的区别
11、JSONP实现原理
12、移动端点击延迟怎么处理
13、git flow工作流介绍
14、两道场景题-问的很深，很久
15、怎么做性能优化
16、性能监控如何做
17、跨域解决方案
18、简单请求和复杂请求
19、多路复用

2、git flow工作流介绍
3、团队规模
4、如何进行codereview
5、平时怎么学习

2、说一说vue2、vue3区别
3、说一说数据双向绑定原理
4、说一说vue有哪些传值方法
5、说一说你的项目，自己做了些什么工作，有没有自己亲自打包上线部署过
6、了解过“跨域”吗
7、了解过防抖和节流吗？手写一下防抖算法
8、http协议
9、tcp握手
10、讲一讲http缓存吧
11、讲一下vue3改用proxy有什么好处，或者说优点
12、JavaScript是怎么实现继承的-
13、详细讲一下原型与原型链
14、说一说你对“良好编程习惯”的理解，怎么样才算是良好的编程习惯
15、讲一下闭包

请描述下对vue生命周期的理解
·双向数据绑定是什么Vue组件之间的通信方式都有哪些？
·为什么data属性是一个函数而不是一个对象？
动态给vue的data添加一个新的属性时会发生什么？
怎样解决?
v-if和v-for的优先级是什么？
V-show和v-if有什么区别？
使用场景分别是什么?
你知道vue中key的原理吗？
说说你对它的理解说说你对vue的mixin的理解，有什么应用场景
Vue常用的修饰符有哪些有什么应用场景
Vue中的$nextTick有什么作用？
Vue实例挂载的过程
你了解vue的diff算法吗？
Vue中组件和插件有什么区别？
Vue项目中你是如何解决跨域的呢？
·有写过自定义指令吗？
自定义指令的应用场景有哪些？
·Vue中的过滤器了解吗？过滤器的应用场景有哪些?

3登录功能怎么实现的
4.JWT的加密泄露怎么办？
5.JWT有哪些信息签名加密的算法
Vue-router里面的hash模式和historyrouter模式的区别
项目用的是什么模式
使用history模式时直接刷新带有路径的界面会发生什么？
10.项目编译完了以后怎么部署的
11.Vite和webpack的区别
12.聊一聊let、const、var的区别
13.如何做到项目保证在不同手机上的一致性的体验
14.快速排序的实现

## 360外包 2024.07.09

1. 代码的输出结果

```javascript
        window.val = 1
        var json = {
            val: 10,
            dbl: function() {
                this.val *= 2;
            }
        }
        json.dbl();
        var dbl = json.dbl;
        dbl();
        json.dbl.call(window);
        console.log(window.val + json.val)
        // 24
```

2. 代码的输出内容

```javascript
        var name = 'tom';
        (function() {
            if (typeof name === 'undefined') {
                var name = 'jack';
                console.log('goodbye'+name)
            } else {
                console.log('hello' + name)
            }
        })()
        // goodbye jack
```

3. 代码的输出内容 **这题需谨慎**

```javascript
        function A(name) {
            this.name = name || 'tom';
            this.msg = 123
        }
        function B(){}
        B.prototype = A;
        var b = new B()
        console.log(b.name);
        console.log(b.msg);
        // A，undefined
```

4. 输出内容及原因

```javascript
function changObjProperty(o) {
    o.siteUrl = 'http://www.baidu.com';
    o = new Object();
    o.siteUrl = 'http://www.google.com'
}
let website = new Object();
changObjProperty(website);
console.log(website.siteUrl);
// http://www.baidu.com
```

5. 数组转树 **需要多练习几遍**

6. 解释"a common string"为什么有length属性

当访问 str.length 时，JavaScript 引擎会临时将 str 转换为一个字符串对象（装箱），从而可以访问其 length 属性

length属性是String原型上的，Object原型上没有length属性

7. JavaScript中如何实现私有属性



8. canvas不断重绘时会闪烁如何解决

- 使用双缓冲，另创建一个canvas，作为后缓冲区进行绘制，前缓冲区用于显示，在每一帧绘制时，先由后缓冲区绘制完整，再清除前缓冲区的画布，使用drawImage Api将后缓冲区绘制到前缓冲区
- 优化绘制算法
- 最小部分重绘区域
- 减少画布清除频率
- 使用 CSS 平滑过渡替换canvas绘制

9. 双缓冲了解吗

10. 当一个旧项目中在不重构的前提下想要使用新技术该怎么做

## 国能外包 2024.07.09

1. Vuex和Pinia的区别

2. 平时是如何处理响应式数据的

3. canvas了解吗？

4. threeJS了解吗

5. setup在哪个生命周期前面

6. ts用过哪些

7. ref和reactive的区别

ref可以包装基础类型和引用类型，如果是对象，会调用reactive
源码层面使用类，通过设置get、set方法对 value进行依赖收集和更新
注意点：
shallowRef给.value赋值，不能和ref联用

reactive只接收引用类型
源码通过proxy实现
注意点：
不能重新赋值，会破坏响应式
shallowReactive会响应到第一层，不能和reactive联用，会更新